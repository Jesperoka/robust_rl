<!-- test -->
<mujoco model="scene">
    <compiler angle="radian" meshdir="meshes" autolimits="true"/> 
    <option integrator="Euler" solver="Newton" timestep="0.002" iterations="1" ls_iterations="1" tolerance="1e-8"/>
    <option>
        <flag eulerdamp="disable" contact="disable" passive="disable" frictionloss="disable" equality="disable"/>
    </option>

    <default class="wheel">
        <!-- <geom friction="0"/> -->
        <camera mode="fixed" pos="0 0 2.5" xyaxes="1 0 0 0 1 0"/> 
    </default>

    <visual>
        <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
        <rgba haze="0.15 0.25 0.35 1"/>
        <global offwidth="3840" offheight="2160"/>
        <quality offsamples="8"/>
    </visual>

    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072"/>
        <texture name="groundplane_texture" type="2d" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300"/>
        <material name="groundplane" texture="groundplane_texture" texuniform="true" texrepeat="5 5" reflectance="0.2"/>
        <material name="matte_aluminum" rgba="0.75 0.75 0.75 1" reflectance="0.4" specular="0.3"/>   
        <material name="aluminum" emission="0.5" specular="0.2" shininess="0.7" reflectance="0.2" rgba="0.6 0.6 0.6 1"/>
        <material name="black_plastic" rgba="0.2 0.2 0.2 1" reflectance="0.3" specular="0.3"/>

        <texture name="zeus_car_texture" file="meshes/zeus_car_meshes/3DModel_LowPoly.png" type="2d"/>
        <material name="zeus_car_material" texture="zeus_car_texture"/>
        <mesh name="zeus_car_mesh" file="zeus_car_meshes/_3DModel_LowPoly.obj" scale="0.0645 0.0645 0.0645"/>
    </asset>

    <include file="panda_extras.xml"/>

    <!-- Scene -->
    <worldbody>
        <!-- <camera name="top" pos="0 0 2.5" xyaxes="1 0 0 0 1 0"/> -->
        <camera name="top" pos="-0.37 -0.78 0.49" xyaxes="0.78 -0.63 0 0.27 0.33 0.9"/>

        <light pos="0 0 2.5" dir="0 0 -1" directional="true"/>
        <body name="ground" pos="0 0 0">
            <geom name="ground_surface" size="0 0 0.025" type="plane" material="groundplane" friction="0.001"/>
        </body>

        <body name="robot_stand" pos="0 0 0">
            <geom name="stand_cylinder_top" pos="-0.043 0 0.905" size="0.115 0.005" type="cylinder" material="matte_aluminum"/>
            <geom name="stand_cylinder_middle" pos="-0.043 0 0.455" size="0.07 0.445" type="cylinder" material="matte_aluminum"/>
            <geom name="stand_cylinder_bottom" pos="-0.043 0 0.005" size="0.31 0.005" type="cylinder" material="matte_aluminum"/>

            <body name="stand_top" pos="0 0 0.905">
                <include file="panda_body.xml"/>
            </body>

        </body>

        <body name="driving_surface" pos="1.1 0 0.0">
            <body name="driving_surface_top" pos="0 0 0.1">
                <include file="zeus_car.xml"/>
                <geom pos="0 0 0" size="1 1 0.01" type="box" material="black_plastic"/>
            </body>
            <geom pos="0.96 0.96 0.05" size="0.04 0.04 0.05" type="box" material="black_plastic"/>
            <geom pos="0.96 -0.96 0.05" size="0.04 0.04 0.05" type="box" material="black_plastic"/>
            <geom pos="-0.96 0.96 0.05" size="0.04 0.04 0.05" type="box" material="black_plastic"/>
            <geom pos="-0.96 -0.96 0.05" size="0.04 0.04 0.05" type="box" material="black_plastic"/>
        </body>

    </worldbody>

    <!-- Actuators -->
    <actuator>
         <velocity ctrllimited="true" ctrlrange="-0.8 0.8" gear="1 0 0 0 0 0" kv="8" joint="car_slider_x" name="car_vel_x"/>
         <velocity ctrllimited="true" ctrlrange="-0.8 0.8" gear="1 0 0 0 0 0" kv="8" joint="car_slider_y" name="car_vel_y"/>
         <velocity ctrllimited="true" ctrlrange="-1.0 1.0" gear="1 0 0 0 0 0" kv="8" joint="car_hinge" name="car_ang_vel"/>
    </actuator>

    <!-- Contact Exclusions -->
    <contact>
        <exclude body1="target" body2="zeus_car"/>
        <exclude body1="target" body2="ground"/>
        <exclude body1="zeus_car" body2="ground"/>
        <exclude body1="zeus_car" body2="driving_surface"/>
        <exclude body1="zeus_car" body2="driving_surface_top"/>

        <exclude body1="robot_stand" body2="ground"/>
        <exclude body1="robot_stand" body2="driving_surface"/>
        <exclude body1="robot_stand" body2="driving_surface_top"/>
        <exclude body1="robot_stand" body2="zeus_car"/>
        <exclude body1="robot_stand" body2="target"/>

        <exclude body1="robot_stand" body2="link0"/>
        <exclude body1="robot_stand" body2="link1"/>
        <exclude body1="robot_stand" body2="link2"/>
        <exclude body1="robot_stand" body2="link3"/>
        <exclude body1="robot_stand" body2="link4"/>
        <exclude body1="robot_stand" body2="link5"/>
        <exclude body1="robot_stand" body2="link6"/>
        <exclude body1="robot_stand" body2="link7"/>
        <exclude body1="robot_stand" body2="hand"/>
        <exclude body1="robot_stand" body2="left_finger"/>
        <exclude body1="robot_stand" body2="right_finger"/>
    </contact>
</mujoco>
